<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Monitoreo de Equipos</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f5f5;
        }

        header {
            background: #222;
            color: white;
            padding: 15px;
            text-align: center;
        }

        h2 {
            text-align: center;
        }

        .equipo {
            background: white;
            padding: 15px;
            margin: 15px auto;
            width: 90%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 0 10px #999;
        }

        .critico {
            background: #ffb3b3 !important;
            border-left: 6px solid red;
        }

        .advertencia {
            background: #fff4b3 !important;
            border-left: 6px solid orange;
        }

        .ok {
            background: #c8f7c5 !important;
            border-left: 6px solid green;
        }

        .imagenes {
            text-align: center;
            margin-top: 30px;
        }

        .imagenes img {
            width: 90%;
            max-width: 400px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

<header>
    <h1>Panel de Supervisión – Sistema de Monitoreo</h1>
</header>

<h2>Estado Actual de los Equipos</h2>

<div id="contenedor"></div>

<div class="imagenes">
    <h2>Imágenes del Sistema</h2>

    <!-- Imagen modificada según tu solicitud -->
    <img src="img/maria_servicio_tecnico.jpg" alt="María Servicio Técnico">

    <img src="img/logo_marsol.png" alt="Logo Marsol">
    <img src="img/marsol_tecnicos.jpg" alt="Técnicos Marsol">
</div>

<script>
// ---------------------------
// CONFIGURACIÓN DE EQUIPOS
// ---------------------------

const equipos = [
    { nombre: "Cafetera", errores: 0, maxErrores: 8, tiposErrores: ["falla térmica", "sensor desconectado", "error de embololo"] },
    { nombre: "Horno", errores: 0, maxErrores: 5, tiposErrores: ["sobrecalentamiento", "puerta abierta"] },
    { nombre: "Lavavajillas", errores: 0, maxErrores: 3, tiposErrores: ["filtro obstruido", "bomba lenta"] }
];

// Solo 2 equipos pueden quedar críticos
let equiposCriticosPermitidos = 2;

// Simulación controlada según lo solicitado
const simulacionErrores = {
    "Cafetera": 8,
    "Horno": 5,
    "Lavavajillas": 3
};

// --------------------------------
// FUNCIÓN PRINCIPAL DE SIMULACIÓN
// --------------------------------

function simular() {
    const contenedor = document.getElementById("contenedor");
    contenedor.innerHTML = "";

    equipos.forEach(eq => {
        eq.errores = 0; // comienzan en 0 exacto

        let repeticiones = simulacionErrores[eq.nombre] || 0;

        for (let i = 0; i < repeticiones; i++) {
            if (eq.errores < eq.maxErrores) {
                eq.errores++;
            }
        }

        // Evaluación del estado
        let estado = "ok";
        
        if (eq.errores >= eq.maxErrores) {
            if (equiposCriticosPermitidos > 0) {
                estado = "critico";
                equiposCriticosPermitidos--;
            } else {
                estado = "advertencia";
            }
        } else if (eq.errores > eq.maxErrores * 0.5) {
            estado = "advertencia";
        }

        mostrarEquipo(eq, estado);
    });
}

// ---------------------------
// CREAR TARJETA EN PANTALLA
// ---------------------------

function mostrarEquipo(eq, estado) {
    const contenedor = document.getElementById("contenedor");

    const div = document.createElement("div");
    div.classList.add("equipo");
    div.classList.add(estado);

    div.innerHTML = `
        <h3>${eq.nombre}</h3>
        <p><strong>Errores detectados:</strong> ${eq.errores}</p>
        <p><strong>Estado:</strong> ${estado.toUpperCase()}</p>
    `;

    contenedor.appendChild(div);
}

// Ejecutar simulación
simular();
</script>

</body>
</html>
